(this["webpackJsonpdotnet-react2"]=this["webpackJsonpdotnet-react2"]||[]).push([[0],{34:function(t,e,i){},35:function(t,e,i){},39:function(t,e,i){"use strict";i.r(e);var n=i(1),a=i.n(n),c=i(14),s=i.n(c),r=i(3),d=i(4),l=i(0);function o(t){return Object(l.jsx)("button",{className:t.className?t.className:"btn",style:t.style,type:t.type,name:t.name,disabled:t.disabled,onClick:t.onClick,children:Object(l.jsx)("span",{className:"btn-label",children:t.text})})}var j=i(6);function b(t){var e;return Object(l.jsx)("div",{className:"card",children:Object(l.jsxs)("div",{className:"card-content",children:[Object(l.jsxs)("div",{className:"card-header",children:[Object(l.jsx)("p",{className:"card-title",children:t.competition.name}),Object(l.jsxs)("p",{className:"card-subtitle",children:["id: ",t.competition.id]}),Object(l.jsxs)("p",{className:"card-info",children:["Status: ",t.competition.status]})]}),Object(l.jsxs)("div",{className:"card-text",children:[(null===(e=t.competition.winner)||void 0===e?void 0:e.id)?Object(l.jsxs)("p",{children:["Winner: ",t.competition.winner.firstname," ",t.competition.winner.lastname]}):null,Object(l.jsxs)("p",{children:["Participants: ",t.competition.participants.length]}),Object(l.jsx)(j.b,{to:"competition/".concat(t.competition.id),children:Object(l.jsx)(o,{text:"show",style:{margin:0,width:"100%"}})})]})]})})}var m=function(){var t=Object(d.c)((function(t){return t.competitions}));return Object(l.jsx)("div",{className:"competitions-container",children:t.map((function(t,e){return Object(l.jsx)(b,{competition:t},e)}))})},p=function(t){var e=t%60,i=(t-e)/60;return(i<10?"0"+i:i)+":"+(e<10?"0"+e:e)};function u(t){return Object(l.jsx)("div",{className:t.participant.id===t.winner.id?"card winner":"card",children:Object(l.jsxs)("div",{className:"card-content",children:[Object(l.jsxs)("div",{className:"card-header",children:[Object(l.jsxs)("p",{className:"card-title",children:[t.participant.firstname," ",t.participant.lastname]}),Object(l.jsxs)("p",{className:"card-subtitle",children:["id: ",t.participant.id]})]}),Object(l.jsxs)("div",{className:"card-text",children:[Object(l.jsxs)("p",{children:["Time: ",p(t.participant.time)]}),"active"===t.status?Object(l.jsx)(o,{onClick:t.onClick,text:"delete",style:{margin:0,width:"100%"}}):null,t.participant.id===t.winner.id?Object(l.jsx)("p",{children:"Winner!"}):null]})]})})}var O=i(17),h=Object(O.b)({name:"competitions",initialState:[],reducers:{addCompetition:{reducer:function(t,e){t.push({name:e.payload.name,id:e.payload.id,status:"active",winner:{},participants:[]})}},deleteCompetition:{reducer:function(t,e){t.filter((function(t){return t.id!==e.payload.id}))}},setWinner:{reducer:function(t,e){t.find((function(t){return t.id===e.payload.competitionId})).winner=e.payload.winner}},finishCompetition:{reducer:function(t,e){t.find((function(t){return t.id===e.payload.competitionId})).status="finished"}},addParticipant:{reducer:function(t,e){t.find((function(t){return t.id===e.payload.competitionId})).participants.push(e.payload.participantData)}},deleteParticipant:{reducer:function(t,e){var i=t.find((function(t){return t.id===e.payload.competitionId}));i.participants=i.participants.filter((function(t){return t.id!==e.payload.participantId}))}}}}),x=h.actions,f=x.addCompetition,v=(x.deleteCompetition,x.addParticipant),N=x.deleteParticipant,g=x.setWinner,y=x.finishCompetition,C=h.reducer;var w=function(t){var e=t.participants,i=t.competitionId,n=t.status,a=t.winner,c=Object(d.b)();return Object(l.jsx)("div",{className:"participants-container",children:e.map((function(t,e){return Object(l.jsx)(u,{participant:t,status:n,winner:a,onClick:function(){return c(N({participantId:t.id,competitionId:i}))}},e)}))})};var I=function(){var t=Object(r.f)(),e=Object(d.c)((function(e){return e.competitions.find((function(e){return e.id===t.id}))}));return Object(l.jsxs)("div",{className:"competition",children:[Object(l.jsx)("h2",{children:e.name}),Object(l.jsx)("h3",{children:"Participants"}),Object(l.jsx)(w,{status:e.status,winner:e.winner,participants:e.participants,competitionId:t.id})]})},S=i(10),k=i(18);function F(t){return Object(l.jsx)("input",{className:"input",style:t.style,id:t.id,type:t.type,name:t.name,disabled:t.disabled,placeholder:t.placeholder,required:t.required,value:t.value,onChange:t.onChange})}var P=function(){var t=Object(d.b)(),e=Object(n.useState)(""),i=Object(S.a)(e,2),a=i[0],c=i[1],s=Object(n.useState)(!1),r=Object(S.a)(s,2),j=r[0],b=r[1];return Object(l.jsx)("form",{className:"competition-form",onSubmit:function(e){e.preventDefault(),0!=a.length&&(t(f({name:a,id:Object(k.a)(10)})),b(!0))},children:j?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h2",{children:"Contest added!"}),Object(l.jsx)(o,{text:"New",onClick:function(){c(""),b(!1)}})]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h2",{children:"Create contest"}),Object(l.jsx)("label",{htmlFor:"contest-name",className:"form-label",children:"Contest name"}),Object(l.jsx)(F,{type:"text",id:"contest-name",value:a,onChange:function(t){return c(t.target.value)}}),Object(l.jsx)(o,{type:"submit",text:"Create"})]})})};function D(t){var e=t.setParticipantData,i=t.setIsRegistered,a=Object(n.useState)(""),c=Object(S.a)(a,2),s=c[0],r=c[1],d=Object(n.useState)(""),j=Object(S.a)(d,2),b=j[0],m=j[1];return Object(l.jsxs)("form",{className:"registration-form",onSubmit:function(t){t.preventDefault(),0!=s.length&&0!=b.length&&(e({firstname:s,lastname:b,id:Object(k.a)(10)}),i(!0))},children:[Object(l.jsx)("h3",{children:"Participant Registration"}),Object(l.jsx)("label",{htmlFor:"firstname",className:"form-label",children:"First name:"}),Object(l.jsx)(F,{type:"text",id:"firstname",value:s,onChange:function(t){return r(t.target.value)}}),Object(l.jsx)("label",{htmlFor:"lastname",className:"form-label",children:"Last name:"}),Object(l.jsx)(F,{type:"text",id:"lastname",value:b,onChange:function(t){return m(t.target.value)}}),Object(l.jsx)(o,{type:"submit",text:"Register"})]})}function R(t){var e=t.setParticipantData,i=t.setIsRegistered,a=t.participantData,c=t.handleRegister,s=Object(n.useState)(0),r=Object(S.a)(s,2),d=r[0],j=r[1];return Object(l.jsxs)("form",{className:"registration-form",onSubmit:function(t){return c(t,d)},children:[Object(l.jsx)("h3",{children:"Participant"}),Object(l.jsxs)("p",{className:"user-name",children:[a.firstname," ",a.lastname]}),Object(l.jsxs)("p",{className:"user-info",children:["id: ",a.id]}),Object(l.jsx)("label",{htmlFor:"time",className:"form-label",children:"Result (seconds):"}),Object(l.jsx)(F,{type:"text",id:"time",value:d,placeholder:"Enter time in seconds",onChange:function(t){return j(t.target.value)}}),Object(l.jsxs)("div",{className:"flex-container",children:[Object(l.jsx)(o,{style:{width:"100%"},type:"submit",text:"Save"}),Object(l.jsx)(o,{style:{width:"100%"},onClick:function(){e({}),i(!1)},text:"Cancel"})]})]})}var E=function(){var t=Object(r.f)(),e=Object(d.b)(),i=Object(n.useState)(!1),a=Object(S.a)(i,2),c=a[0],s=a[1],o=Object(n.useState)({}),j=Object(S.a)(o,2),b=j[0],m=j[1];return Object(l.jsx)("div",{className:"registration-container",children:c?Object(l.jsx)(R,{setIsRegistered:s,setParticipantData:m,participantData:b,handleRegister:function(i,n){i.preventDefault(),b.time=n,e(v({participantData:b,competitionId:t.id})),s(!1)}}):Object(l.jsx)(D,{setIsRegistered:s,setParticipantData:m})})},W=i(23);function B(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("li",{className:"sidebar-li",children:Object(l.jsx)(j.b,{className:"sidebar-link",to:"/",children:"Competitions"})}),Object(l.jsx)("li",{className:"sidebar-li",children:Object(l.jsx)(j.b,{className:"sidebar-link",to:"/new",children:"Add competiton"})})]})}function L(t){var e=t.id,i=Object(d.b)(),n=Object(d.c)((function(t){return t.competitions.find((function(t){return t.id===e}))}));return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("li",{className:"sidebar-li",children:Object(l.jsx)(j.b,{className:"sidebar-link",to:"/",children:"< Back"})}),Object(l.jsx)("li",{className:"sidebar-li",children:Object(l.jsx)(j.b,{className:"sidebar-link",to:"/competition/".concat(e),children:"Participants"})}),Object(l.jsx)("li",{className:"sidebar-li",children:Object(l.jsx)(j.b,{className:"sidebar-link",to:"/competition/".concat(e,"/new"),children:"Add participant"})}),Object(l.jsx)("li",{className:"sidebar-li",children:Object(l.jsx)(o,{className:"sidebar-link",text:"Show winner",onClick:function(){var t=Object(W.a)(n.participants).sort((function(t,e){return e.time-t.time}))[0];i(g({competitionId:e,winner:t})),i(y({competitionId:e}))}})})]})}function q(){var t,e=Object(r.g)({path:"/competition/:id",strict:!0});return Object(l.jsx)("ul",{className:"sidebar-ul",children:e?Object(l.jsx)(L,{id:null===e||void 0===e||null===(t=e.params)||void 0===t?void 0:t.id}):Object(l.jsx)(B,{})})}var z=function(){return Object(l.jsx)("aside",{className:"sidebar",children:Object(l.jsx)(q,{})})};i(34);var A=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(z,{}),Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(r.c,{children:[Object(l.jsx)(r.a,{exact:!0,path:"/",children:Object(l.jsx)(m,{})}),Object(l.jsx)(r.a,{path:"/new",children:Object(l.jsx)(P,{})}),Object(l.jsx)(r.a,{exact:!0,path:"/competition/:id",children:Object(l.jsx)(I,{})}),Object(l.jsx)(r.a,{path:"/competition/:id/new",children:Object(l.jsx)(E,{})})]})})]})},T=Object(O.a)({reducer:{competitions:C},preloadedState:{competitions:[{name:"Eating burgers",id:"MSpiWdrcx7",status:"active",winner:{},participants:[{firstname:"Robinson",lastname:"Lloyd",id:"NlzsCzmEbn",time:"140"},{firstname:"Eugenia",lastname:"Barton",id:"cVCiQeEWR0",time:"121"},{firstname:"Elnora",lastname:"Coffey",id:"GULjQqsmnp",time:"84"},{firstname:"Garrett",lastname:"Bryant",id:"2EziriaCxF",time:"94"}]}]}}),G=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,40)).then((function(e){var i=e.getCLS,n=e.getFID,a=e.getFCP,c=e.getLCP,s=e.getTTFB;i(t),n(t),a(t),c(t),s(t)}))};i(35),i(36),i(37),i(38);s.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(j.a,{children:Object(l.jsx)(d.a,{store:T,children:Object(l.jsx)(A,{})})})}),document.getElementById("root")),G()}},[[39,1,2]]]);
//# sourceMappingURL=main.27fa54c6.chunk.js.map